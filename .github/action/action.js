!function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=12)}([function(e,t){e.exports=require("@actions/core")},function(e,t){e.exports=require("@actions/github")},function(e,t){e.exports=require("fs-extra")},function(e,t){e.exports=require("bluebird")},function(e,t){e.exports=require("@actions/artifact")},function(e){e.exports=JSON.parse('{"name":"orange","productName":"Orange","version":"0.0.0-see-the-releases-page-on-github","description":"Bitcoin blockchain explorer for Bitcoin Core","license":"Unlicense","main":"main/main.js","engines":{"node":"^12.0.0","npm":"^6.0.0"},"scripts":{"build:prod:main":"cross-env NODE_ENV=production npm run _webpack-build-main","build:prod:renderer":"cross-env NODE_ENV=production npm run _webpack-build-renderer","build":"run-s _rimraf-artifacts _build","build-action":"cross-env NODE_ENV=production TS_NODE_PROJECT=\'webpack/tsconfig.json\' webpack --config webpack/webpack.action.config.ts","generate-workflows":"node .github/generateWorkflows/generateWorkflows.js","check:coverage":"npm run _test-with-coverage","check:lint":"eslint \'**/*.{ts,tsx,js}\'","check:npm-audit":"npm audit","check:typescript":"npm run _typescript","check:depcheck":"depcheck","check":"run-p --aggregate-output -cln check:*","create-executable":"cross-env FILENAME=createExecutable run-s build-action _create-executable","develop:main":"cross-env NODE_ENV=development run-s _webpack-build-main _electron","develop:renderer":"cross-env NODE_ENV=development run-p -ln _webpack-server \'_typescript -- -w\'","trigger-release":"node scripts/triggerRelease.js","see-coverage":"run-s --continue-on-error --silent \'_test-with-coverage -- --coverageThreshold={}\' _open-coverage-results","test":"jest","_build":"run-p --aggregate-output -cln build:*:*","_create-executable":"node .github/action/createExecutable.js && rimraf .github/action/createExecutable.js","_electron":"electron ./artifacts/webpack","_open-coverage-results":"open-cli coverage/lcov-report/index.html","_rimraf-artifacts":"rimraf artifacts","_test-with-coverage":"npm run test -- --coverage","_typescript":"tsc --noEmit","_webpack-build-main":"cross-env TS_NODE_PROJECT=\'webpack/tsconfig.json\' webpack --config webpack/webpack.main.config.ts","_webpack-build-renderer":"cross-env TS_NODE_PROJECT=\'webpack/tsconfig.json\' webpack --config webpack/webpack.renderer.config.ts","_webpack-server":"cross-env TS_NODE_PROJECT=\'webpack/tsconfig.json\' webpack-dev-server --config webpack/webpack.renderer.dev.config.ts"},"devDependencies":{"@actions/artifact":"^0.3.0","@actions/core":"^1.2.3","@actions/exec":"^1.0.3","@actions/github":"^2.1.1","@babel/core":"^7.8.3","@babel/plugin-proposal-class-properties":"^7.8.3","@babel/plugin-proposal-nullish-coalescing-operator":"^7.8.3","@babel/plugin-proposal-optional-chaining":"^7.8.3","@babel/preset-env":"^7.8.3","@babel/preset-react":"^7.8.3","@babel/preset-typescript":"^7.8.3","@hh.ru/babel-plugin-react-displayname":"0.5.3","@hot-loader/react-dom":"^16.11.0","@material-ui/core":"^4.9.11","@material-ui/icons":"^4.5.1","@testing-library/jest-dom":"^5.5.0","@testing-library/react":"^9.5.0","@testing-library/user-event":"^10.1.0","@types/archiver":"^3.1.0","@types/bluebird":"^3.5.29","@types/copy-webpack-plugin":"^5.0.1","@types/electron-devtools-installer":"^2.2.0","@types/fs-extra":"^8.1.0","@types/html-webpack-plugin":"^3.2.3","@types/jest":"^25.1.1","@types/lodash":"^4.14.149","@types/react":"^16.9.19","@types/react-dom":"^16.9.5","@types/react-redux":"^7.1.7","@types/react-router-dom":"^5.1.3","@types/react-virtualized-auto-sizer":"^1.0.0","@types/react-window":"^1.8.1","@types/shelljs":"^0.8.7","@types/testing-library__jest-dom":"^5.0.3","@types/webpack":"^4.41.13","@types/webpack-dev-server":"^3.11.0","@types/webpack-merge":"^4.1.5","@types/webpack-node-externals":"^1.7.1","@types/yup":"^0.26.37","@typescript-eslint/eslint-plugin":"^2.18.0","@typescript-eslint/parser":"^2.18.0","archiver":"^3.1.1","babel-loader":"^8.0.6","babel-plugin-lodash":"^3.3.4","babel-plugin-transform-es2015-modules-commonjs":"^6.26.2","copy-webpack-plugin":"^5.1.1","cross-env":"^7.0.2","css-loader":"^3.4.2","depcheck":"^0.9.2","electron-devtools-installer":"^2.2.4","electron-packager":"^14.2.1","electron-winstaller":"^4.0.0","eslint":"^6.8.0","eslint-config-airbnb":"^18.0.1","eslint-config-prettier":"^6.9.0","eslint-import-resolver-typescript":"^2.0.0","eslint-plugin-import":"^2.20.0","eslint-plugin-jest":"^23.6.0","eslint-plugin-jsx-a11y":"^6.2.3","eslint-plugin-react":"^7.18.0","eslint-plugin-react-hooks":"^1.7.0","file-loader":"^5.0.2","formik":"^2.1.4","fs-extra":"^9.0.0","html-webpack-plugin":"^3.2.0","husky":"^3.1.0","jest":"^25.1.0","js-yaml":"^3.13.1","lint-staged":"^9.5.0","memfs":"^3.0.5","nock":"^11.8.2","npm-run-all":"^4.1.5","open-cli":"^6.0.1","prettier":"1.19.1","react-hot-loader":"^4.12.19","shelljs":"^0.8.3","source-map-loader":"^0.2.4","style-loader":"^1.1.3","ts-jest":"^25.2.0","ts-node":"^8.10.1","tsconfig-paths":"^3.9.0","tsconfig-paths-webpack-plugin":"^3.2.0","typeface-roboto":"0.0.75","typescript":"^3.7.5","wait-for-expect":"^3.0.2","webpack":"^4.41.5","webpack-cli":"^3.3.10","webpack-dev-server":"^3.11.0","webpack-merge":"^4.2.2","webpack-node-externals":"^1.7.2"},"dependencies":{"@material-ui/lab":"^4.0.0-alpha.50","bluebird":"^3.7.2","clsx":"^1.0.4","electron":"^8.2.4","lodash":"^4.17.15","moment":"^2.24.0","react":"^16.12.0","react-dom":"^16.12.0","react-redux":"^7.1.3","react-router-dom":"^5.1.2","react-virtualized-auto-sizer":"^1.0.2","react-window":"^1.8.5","redux":"^4.0.5","redux-thunk":"^2.3.0","typesafe-actions":"^5.1.0","yup":"^0.28.4"},"husky":{"hooks":{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,tsx,js,json,md}":["prettier --write","git add"]}}')},function(e,t){e.exports=require("shelljs")},function(e,t){e.exports=require("electron-packager")},function(e,t){e.exports=require("archiver")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("electron-winstaller")},function(e,t){e.exports=require("@actions/exec")},function(e,t,r){"use strict";r.r(t);var a=r(0),n=r(3),o=r.n(n),c=r(4),i=r(2),s=r.n(i),l=r(7),p=r(8),u=r(9),d=r(10),b=r(1),g=r(11),f=r(6),m=r.n(f);const w=!!process.env.GITHUB_ACTIONS,v=async(e,t)=>{w?await Object(g.exec)(e,null,{ignoreReturnCode:!0})>0&&a.setFailed(t):m.a.exec(e).code>0&&m.a.exit(1)},k=/^([0-9]|[1-9][0-9]*)\.([0-9]|[1-9][0-9]*)\.([0-9]|[1-9][0-9]*)(?:-([0-9A-Za-z-]+(?:\.[0-9A-Za-z-]+)*))?(?:\+[0-9A-Za-z-]+)?$/,h=e=>k.test(e),y=()=>{if(w){const e=(()=>{const e=b.context.ref;return e.substr("refs/tags/".length,e.length)})();return h(e)?e:`0.0.0-build.${b.context.sha.substr(0,7)}`}return"0.0.0-localbuild.1"};var x=r(5);const _=c.create(),j=y(),{productName:E}=x,N={darwin:{archiveName:`${E}-v${j}-macOS.zip`},linux:{archiveName:`${E}-v${j}-Linux.zip`},win32:{archiveName:`${E}-v${j}-Windows.exe`}},O=async()=>{console.log("Building source code..."),await v("npm run build","`npm run build` failed");const e=process.platform,{archiveName:t}=N[e];console.log(`Creating Electron package on ${e}...`),await l({arch:"x64",dir:"artifacts/webpack",out:"artifacts/electronPackager",icon:"src/assets/orange",overwrite:!0,platform:e,prune:!1,appVersion:y()}),"darwin"===e?(console.log("Compressing Electron package..."),await new Promise(r=>{const n=p("zip",{zlib:{level:9}}),o=s.a.createWriteStream(`artifacts/electronPackager/${t}`);n.pipe(o),n.directory(`artifacts/electronPackager/${E}-${e}-x64/`,!1),o.on("close",r),n.on("error",t=>{console.error(t),a.setFailed(`Could not create a zip archive on ${e}`)}),n.finalize()})):"win32"===e&&(console.log(`Creating ${t}...`),await d.createWindowsInstaller({appDirectory:`artifacts/electronPackager/${E}-${e}-x64`,outputDirectory:"artifacts/electronPackager",authors:"https://github.com/orange-org",exe:`${E}.exe`,setupExe:t,version:j,name:E,title:E,iconUrl:"https://raw.githubusercontent.com/orange-org/orange/master/src/assets/orange.ico",setupIcon:"src/assets/orange.ico"})),w&&(console.log(`Uploading ${t}...`),await _.uploadArtifact(Object(u.basename)(t),[`artifacts/electronPackager/${t}`],"artifacts/electronPackager"))};"createExecutable"===process.env.FILENAME&&o.a.try(O).catch(console.error);n.try(async()=>{const e=a.getInput("command");if(e)return await v(e,`\`${e}\` failed!`);const t=a.getInput("task");return"create-executable"===t?await O():"draft-release"===t?await(async()=>{const e=new b.GitHub(a.getInput("githubToken")),{owner:t,repo:r}=b.context.repo,n=y();if(!h(n))return void a.setFailed(`Version ${n} is not a valid semantic version.`);console.log("Creating GitHub release...");const o=await e.repos.createRelease({owner:t,repo:r,tag_name:n,name:`${x.productName} v${n}`,draft:!0}),{data:{upload_url:i}}=o,l=c.create();console.log("Downloading build artifacts...");const p=await l.downloadAllArtifacts();for(let t of p){const{downloadPath:r,artifactName:a}=t,n=`${r}/${a}`;console.log(`Uploading release asset ${a}...`),await e.repos.uploadReleaseAsset({url:i,headers:{"content-type":"application/zip","content-length":s.a.statSync(n).size},name:a,file:s.a.readFileSync(n)})}})():void 0}).catch(e=>a.setFailed(e.toString()))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiQGFjdGlvbnMvY29yZVwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIkBhY3Rpb25zL2dpdGh1YlwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImZzLWV4dHJhXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiYmx1ZWJpcmRcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAYWN0aW9ucy9hcnRpZmFjdFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInNoZWxsanNcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJlbGVjdHJvbi1wYWNrYWdlclwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImFyY2hpdmVyXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicGF0aFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImVsZWN0cm9uLXdpbnN0YWxsZXJcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAYWN0aW9ucy9leGVjXCIiLCJ3ZWJwYWNrOi8vLy4vLmdpdGh1Yi9hY3Rpb24vaXNPbkdpdGh1YkFjdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vLmdpdGh1Yi9hY3Rpb24vdXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4vLmdpdGh1Yi9hY3Rpb24vZ2V0QXBwVmVyc2lvbi50cyIsIndlYnBhY2s6Ly8vLi8uZ2l0aHViL2FjdGlvbi9jcmVhdGVFeGVjdXRhYmxlLnRzIiwid2VicGFjazovLy8uLy5naXRodWIvYWN0aW9uL2FjdGlvbi50cyIsIndlYnBhY2s6Ly8vLi8uZ2l0aHViL2FjdGlvbi9kcmFmdFJlbGVhc2UudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJyZXF1aXJlIiwiaXNPbkdpdGh1YkFjdGlvbnMiLCJwcm9jZXNzIiwiZW52IiwiR0lUSFVCX0FDVElPTlMiLCJleGVjV2l0aEVycm9yTWVzc2FnZSIsImFzeW5jIiwiY29tbWFuZCIsIm1lc3NhZ2UiLCJleGVjIiwiaWdub3JlUmV0dXJuQ29kZSIsImNvcmUiLCJzaGVsbGpzIiwiY29kZSIsImV4aXQiLCJzZW1WZXJUYWdSZWdFeHAiLCJpc1NlbVZlciIsInRlc3QiLCJnZXRBcHBWZXJzaW9uIiwidGFnIiwicmVmIiwiZ2l0aHViIiwic3Vic3RyIiwibGVuZ3RoIiwiZ2V0VGFnTmFtZSIsInNoYSIsImFydGlmYWN0Q2xpZW50IiwiYXJ0aWZhY3QiLCJhcHBWZXJzaW9uIiwicHJvZHVjdE5hbWUiLCJwa2dKc29uIiwicGxhdGZvcm1EZWZpbml0aW9ucyIsImRhcndpbiIsImFyY2hpdmVOYW1lIiwibGludXgiLCJ3aW4zMiIsImNyZWF0ZUV4ZWN1dGFibGUiLCJjb25zb2xlIiwibG9nIiwib3MiLCJwbGF0Zm9ybSIsInBhY2thZ2VyIiwiYXJjaCIsImRpciIsIm91dCIsImljb24iLCJvdmVyd3JpdGUiLCJwcnVuZSIsIlByb21pc2UiLCJyZXNvbHZlXyIsImFyY2hpdmUiLCJhcmNoaXZlciIsInpsaWIiLCJsZXZlbCIsIm91dHB1dCIsImZzIiwiY3JlYXRlV3JpdGVTdHJlYW0iLCJwaXBlIiwiZGlyZWN0b3J5Iiwib24iLCJlcnJvciIsImZpbmFsaXplIiwiZWxlY3Ryb25JbnN0YWxsZXIiLCJhcHBEaXJlY3RvcnkiLCJvdXRwdXREaXJlY3RvcnkiLCJhdXRob3JzIiwiZXhlIiwic2V0dXBFeGUiLCJ2ZXJzaW9uIiwidGl0bGUiLCJpY29uVXJsIiwic2V0dXBJY29uIiwidXBsb2FkQXJ0aWZhY3QiLCJiYXNlbmFtZSIsIkZJTEVOQU1FIiwiYmx1ZWJpcmQiLCJ0cnkiLCJjYXRjaCIsInRhc2siLCJHaXRIdWIiLCJvd25lciIsInJlcG8iLCJjb250ZXh0IiwiY3JlYXRlUmVsZWFzZVJlc3BvbnNlIiwicmVwb3MiLCJjcmVhdGVSZWxlYXNlIiwidGFnX25hbWUiLCJkcmFmdCIsImRhdGEiLCJ1cGxvYWRfdXJsIiwidXBsb2FkVXJsIiwiZG93bmxvYWRSZXNwb25zZSIsImRvd25sb2FkQWxsQXJ0aWZhY3RzIiwicmVzcG9uc2UiLCJkb3dubG9hZFBhdGgiLCJhcnRpZmFjdE5hbWUiLCJhcnRpZmFjdFBhdGgiLCJ1cGxvYWRSZWxlYXNlQXNzZXQiLCJ1cmwiLCJoZWFkZXJzIiwic3RhdFN5bmMiLCJzaXplIiwiZmlsZSIsInJlYWRGaWxlU3luYyIsImRyYWZ0UmVsZWFzZSIsInRvU3RyaW5nIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIs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MEMsT0NYc0J4RSxXQUMxQixNQUFNZSxFQUFTLElBQUkwRCxTQUFPcEUsV0FBYyxpQkFDbEMsTUFBRXFFLEVBQUYsS0FBU0MsR0FBU0MsVUFBUUQsS0FDMUJyRCxFQUFhVixJQUVuQixJQUFLRixFQUFTWSxHQUVaLFlBREFqQixZQUFnQixXQUFVaUIsc0NBSTVCUyxRQUFRQyxJQUFJLDhCQUNaLE1BQU02QyxRQUE4QjlELEVBQU8rRCxNQUFNQyxjQUFjLENBQzdETCxRQUNBQyxPQUNBSyxTQUFVMUQsRUFDVnJELEtBQU8sR0FBRXNELGtCQUFnQkQsSUFDekIyRCxPQUFPLEtBSVBDLE1BQVFDLFdBQVlDLElBQ2xCUCxFQUVFekQsRUFBaUJDLFdBQ3ZCVSxRQUFRQyxJQUFJLGtDQUNaLE1BQU1xRCxRQUF5QmpFLEVBQWVrRSx1QkFFOUMsSUFBSyxJQUFJQyxLQUFZRixFQUFrQixDQUNyQyxNQUFNLGFBQUVHLEVBQUYsYUFBZ0JDLEdBQWlCRixFQUNqQ0csRUFBZ0IsR0FBRUYsS0FBZ0JDLElBRXhDMUQsUUFBUUMsSUFBSywyQkFBMEJ5RCxjQUNqQzFFLEVBQU8rRCxNQUFNYSxtQkFBbUIsQ0FDcENDLElBQUtSLEVBQ0xTLFFBQVMsQ0FDUCxlQUFnQixrQkFDaEIsaUJBQWtCNUMsSUFBRzZDLFNBQVNKLEdBQWNLLE1BRTlDOUgsS0FBTXdILEVBQ05PLEtBQU0vQyxJQUFHZ0QsYUFBYVAsT0QzQlhRLFFBRGYsSUFLbUIzQixNQUFNakIsR0FBU2pELFlBQWVpRCxFQUFNNkMiLCJmaWxlIjoiYWN0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEyKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIkBhY3Rpb25zL2NvcmVcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiQGFjdGlvbnMvZ2l0aHViXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImZzLWV4dHJhXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJsdWViaXJkXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIkBhY3Rpb25zL2FydGlmYWN0XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInNoZWxsanNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZWxlY3Ryb24tcGFja2FnZXJcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYXJjaGl2ZXJcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGF0aFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJlbGVjdHJvbi13aW5zdGFsbGVyXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIkBhY3Rpb25zL2V4ZWNcIik7IiwiZXhwb3J0IGNvbnN0IGlzT25HaXRodWJBY3Rpb25zID0gISFwcm9jZXNzLmVudi5HSVRIVUJfQUNUSU9OUztcbiIsImltcG9ydCAqIGFzIGdpdGh1YiBmcm9tIFwiQGFjdGlvbnMvZ2l0aHViXCI7XG5pbXBvcnQgKiBhcyBjb3JlIGZyb20gXCJAYWN0aW9ucy9jb3JlXCI7XG5pbXBvcnQgeyBleGVjIH0gZnJvbSBcIkBhY3Rpb25zL2V4ZWNcIjtcbmltcG9ydCBzaGVsbGpzIGZyb20gXCJzaGVsbGpzXCI7XG5pbXBvcnQgeyBpc09uR2l0aHViQWN0aW9ucyB9IGZyb20gXCIuL2lzT25HaXRodWJBY3Rpb25zXCI7XG5cbmV4cG9ydCBjb25zdCBleGVjV2l0aEVycm9yTWVzc2FnZSA9IGFzeW5jIChcbiAgY29tbWFuZDogc3RyaW5nLFxuICBtZXNzYWdlOiBzdHJpbmcsXG4pID0+IHtcbiAgaWYgKGlzT25HaXRodWJBY3Rpb25zKSB7XG4gICAgaWYgKChhd2FpdCBleGVjKGNvbW1hbmQsIG51bGwsIHsgaWdub3JlUmV0dXJuQ29kZTogdHJ1ZSB9KSkgPiAwKSB7XG4gICAgICBjb3JlLnNldEZhaWxlZChtZXNzYWdlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHNoZWxsanMuZXhlYyhjb21tYW5kKS5jb2RlID4gMCkge1xuICAgICAgc2hlbGxqcy5leGl0KDEpO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGdldFRhZ05hbWUgPSAoKSA9PiB7XG4gIGNvbnN0IHJlZiA9IGdpdGh1Yi5jb250ZXh0LnJlZjtcbiAgY29uc3QgdGFnUGF0aCA9IFwicmVmcy90YWdzL1wiO1xuXG4gIHJldHVybiByZWYuc3Vic3RyKHRhZ1BhdGgubGVuZ3RoLCByZWYubGVuZ3RoKTtcbn07XG5cbmNvbnN0IHNlbVZlclRhZ1JlZ0V4cCA9IC9eKFswLTldfFsxLTldWzAtOV0qKVxcLihbMC05XXxbMS05XVswLTldKilcXC4oWzAtOV18WzEtOV1bMC05XSopKD86LShbMC05QS1aYS16LV0rKD86XFwuWzAtOUEtWmEtei1dKykqKSk/KD86XFwrWzAtOUEtWmEtei1dKyk/JC87XG5leHBvcnQgY29uc3QgaXNTZW1WZXIgPSAoczogc3RyaW5nKSA9PiB7XG4gIHJldHVybiBzZW1WZXJUYWdSZWdFeHAudGVzdChzKTtcbn07XG4iLCJpbXBvcnQgKiBhcyBnaXRodWIgZnJvbSBcIkBhY3Rpb25zL2dpdGh1YlwiO1xuaW1wb3J0IHsgZ2V0VGFnTmFtZSwgaXNTZW1WZXIgfSBmcm9tIFwiLi91dGlsc1wiO1xuaW1wb3J0IHsgaXNPbkdpdGh1YkFjdGlvbnMgfSBmcm9tIFwiLi9pc09uR2l0aHViQWN0aW9uc1wiO1xuXG5leHBvcnQgY29uc3QgZ2V0QXBwVmVyc2lvbiA9ICgpID0+IHtcbiAgaWYgKGlzT25HaXRodWJBY3Rpb25zKSB7XG4gICAgY29uc3QgdGFnID0gZ2V0VGFnTmFtZSgpO1xuXG4gICAgaWYgKGlzU2VtVmVyKHRhZykpIHtcbiAgICAgIHJldHVybiB0YWc7XG4gICAgfVxuXG4gICAgcmV0dXJuIGAwLjAuMC1idWlsZC4ke2dpdGh1Yi5jb250ZXh0LnNoYS5zdWJzdHIoMCwgNyl9YDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gXCIwLjAuMC1sb2NhbGJ1aWxkLjFcIjtcbiAgfVxufTtcbiIsIi8qKlxuICogVGhpcyBmaWxlIG11c3QgYmUgcnVubmFibGUgb24gYm90aCB0aGUgbG9jYWwgZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnQgYW5kXG4gKiBvbiBHaXRIdWIgQWN0aW9uc1xuICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG5pbXBvcnQgKiBhcyBjb3JlIGZyb20gXCJAYWN0aW9ucy9jb3JlXCI7XG5pbXBvcnQgKiBhcyBhcnRpZmFjdCBmcm9tIFwiQGFjdGlvbnMvYXJ0aWZhY3RcIjtcbmltcG9ydCBmcyBmcm9tIFwiZnMtZXh0cmFcIjtcbmltcG9ydCAqIGFzIHBhY2thZ2VyIGZyb20gXCJlbGVjdHJvbi1wYWNrYWdlclwiO1xuaW1wb3J0ICogYXMgYXJjaGl2ZXIgZnJvbSBcImFyY2hpdmVyXCI7XG5pbXBvcnQgeyBiYXNlbmFtZSB9IGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgKiBhcyBlbGVjdHJvbkluc3RhbGxlciBmcm9tIFwiZWxlY3Ryb24td2luc3RhbGxlclwiO1xuaW1wb3J0IGJsdWViaXJkIGZyb20gXCJibHVlYmlyZFwiO1xuaW1wb3J0IHsgZ2V0QXBwVmVyc2lvbiB9IGZyb20gXCIuL2dldEFwcFZlcnNpb25cIjtcbmltcG9ydCB7IGV4ZWNXaXRoRXJyb3JNZXNzYWdlIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCBwa2dKc29uIGZyb20gXCIuLi8uLi9wYWNrYWdlLmpzb25cIjtcbmltcG9ydCB7IGlzT25HaXRodWJBY3Rpb25zIH0gZnJvbSBcIi4vaXNPbkdpdGh1YkFjdGlvbnNcIjtcblxuY29uc3QgYXJ0aWZhY3RDbGllbnQgPSBhcnRpZmFjdC5jcmVhdGUoKTtcbmNvbnN0IGFwcFZlcnNpb24gPSBnZXRBcHBWZXJzaW9uKCk7XG5jb25zdCBlbGVjdHJvblBhY2thZ2VyQXJ0aWZhY3REaXIgPSBcImFydGlmYWN0cy9lbGVjdHJvblBhY2thZ2VyXCI7XG5cbmNvbnN0IHsgcHJvZHVjdE5hbWUgfSA9IHBrZ0pzb247XG5cbmV4cG9ydCBjb25zdCBwbGF0Zm9ybURlZmluaXRpb25zID0ge1xuICBkYXJ3aW46IHtcbiAgICBhcmNoaXZlTmFtZTogYCR7cHJvZHVjdE5hbWV9LXYke2FwcFZlcnNpb259LW1hY09TLnppcGAsXG4gIH0sXG4gIGxpbnV4OiB7XG4gICAgYXJjaGl2ZU5hbWU6IGAke3Byb2R1Y3ROYW1lfS12JHthcHBWZXJzaW9ufS1MaW51eC56aXBgLFxuICB9LFxuICB3aW4zMjoge1xuICAgIGFyY2hpdmVOYW1lOiBgJHtwcm9kdWN0TmFtZX0tdiR7YXBwVmVyc2lvbn0tV2luZG93cy5leGVgLFxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUV4ZWN1dGFibGUgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKFwiQnVpbGRpbmcgc291cmNlIGNvZGUuLi5cIik7XG4gIGF3YWl0IGV4ZWNXaXRoRXJyb3JNZXNzYWdlKFwibnBtIHJ1biBidWlsZFwiLCBcImBucG0gcnVuIGJ1aWxkYCBmYWlsZWRcIik7XG5cbiAgY29uc3Qgb3MgPSBwcm9jZXNzLnBsYXRmb3JtO1xuICBjb25zdCB7IGFyY2hpdmVOYW1lIH0gPSBwbGF0Zm9ybURlZmluaXRpb25zW29zXTtcblxuICBjb25zb2xlLmxvZyhgQ3JlYXRpbmcgRWxlY3Ryb24gcGFja2FnZSBvbiAke29zfS4uLmApO1xuICBhd2FpdCBwYWNrYWdlcih7XG4gICAgYXJjaDogXCJ4NjRcIixcbiAgICBkaXI6IFwiYXJ0aWZhY3RzL3dlYnBhY2tcIixcbiAgICBvdXQ6IGVsZWN0cm9uUGFja2FnZXJBcnRpZmFjdERpcixcbiAgICBpY29uOiBcInNyYy9hc3NldHMvb3JhbmdlXCIsXG4gICAgb3ZlcndyaXRlOiB0cnVlLFxuICAgIHBsYXRmb3JtOiBvcyxcbiAgICBwcnVuZTogZmFsc2UsXG4gICAgYXBwVmVyc2lvbjogZ2V0QXBwVmVyc2lvbigpLFxuICB9KTtcblxuICBpZiAob3MgPT09IFwiZGFyd2luXCIpIHtcbiAgICBjb25zb2xlLmxvZyhcIkNvbXByZXNzaW5nIEVsZWN0cm9uIHBhY2thZ2UuLi5cIik7XG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZV8gPT4ge1xuICAgICAgY29uc3QgYXJjaGl2ZSA9IGFyY2hpdmVyKFwiemlwXCIsIHsgemxpYjogeyBsZXZlbDogOSB9IH0pO1xuICAgICAgY29uc3Qgb3V0cHV0ID0gZnMuY3JlYXRlV3JpdGVTdHJlYW0oXG4gICAgICAgIGAke2VsZWN0cm9uUGFja2FnZXJBcnRpZmFjdERpcn0vJHthcmNoaXZlTmFtZX1gLFxuICAgICAgKTtcbiAgICAgIGFyY2hpdmUucGlwZShvdXRwdXQpO1xuICAgICAgYXJjaGl2ZS5kaXJlY3RvcnkoXG4gICAgICAgIGAke2VsZWN0cm9uUGFja2FnZXJBcnRpZmFjdERpcn0vJHtwcm9kdWN0TmFtZX0tJHtvc30teDY0L2AsXG4gICAgICAgIGZhbHNlLFxuICAgICAgKTtcbiAgICAgIG91dHB1dC5vbihcImNsb3NlXCIsIHJlc29sdmVfKTtcbiAgICAgIGFyY2hpdmUub24oXCJlcnJvclwiLCBlcnJvciA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICBjb3JlLnNldEZhaWxlZChgQ291bGQgbm90IGNyZWF0ZSBhIHppcCBhcmNoaXZlIG9uICR7b3N9YCk7XG4gICAgICB9KTtcbiAgICAgIGFyY2hpdmUuZmluYWxpemUoKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChvcyA9PT0gXCJ3aW4zMlwiKSB7XG4gICAgY29uc29sZS5sb2coYENyZWF0aW5nICR7YXJjaGl2ZU5hbWV9Li4uYCk7XG4gICAgYXdhaXQgZWxlY3Ryb25JbnN0YWxsZXIuY3JlYXRlV2luZG93c0luc3RhbGxlcih7XG4gICAgICBhcHBEaXJlY3Rvcnk6IGAke2VsZWN0cm9uUGFja2FnZXJBcnRpZmFjdERpcn0vJHtwcm9kdWN0TmFtZX0tJHtvc30teDY0YCxcbiAgICAgIG91dHB1dERpcmVjdG9yeTogZWxlY3Ryb25QYWNrYWdlckFydGlmYWN0RGlyLFxuICAgICAgYXV0aG9yczogXCJodHRwczovL2dpdGh1Yi5jb20vb3JhbmdlLW9yZ1wiLFxuICAgICAgZXhlOiBgJHtwcm9kdWN0TmFtZX0uZXhlYCxcbiAgICAgIHNldHVwRXhlOiBhcmNoaXZlTmFtZSxcbiAgICAgIHZlcnNpb246IGFwcFZlcnNpb24sXG4gICAgICBuYW1lOiBwcm9kdWN0TmFtZSxcbiAgICAgIHRpdGxlOiBwcm9kdWN0TmFtZSxcbiAgICAgIGljb25Vcmw6XG4gICAgICAgIFwiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL29yYW5nZS1vcmcvb3JhbmdlL21hc3Rlci9zcmMvYXNzZXRzL29yYW5nZS5pY29cIixcbiAgICAgIHNldHVwSWNvbjogXCJzcmMvYXNzZXRzL29yYW5nZS5pY29cIixcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChpc09uR2l0aHViQWN0aW9ucykge1xuICAgIGNvbnNvbGUubG9nKGBVcGxvYWRpbmcgJHthcmNoaXZlTmFtZX0uLi5gKTtcbiAgICBhd2FpdCBhcnRpZmFjdENsaWVudC51cGxvYWRBcnRpZmFjdChcbiAgICAgIGJhc2VuYW1lKGFyY2hpdmVOYW1lKSxcbiAgICAgIFtgJHtlbGVjdHJvblBhY2thZ2VyQXJ0aWZhY3REaXJ9LyR7YXJjaGl2ZU5hbWV9YF0sXG4gICAgICBlbGVjdHJvblBhY2thZ2VyQXJ0aWZhY3REaXIsXG4gICAgKTtcbiAgfVxufTtcblxuaWYgKHByb2Nlc3MuZW52LkZJTEVOQU1FID09PSBcImNyZWF0ZUV4ZWN1dGFibGVcIikge1xuICBibHVlYmlyZC50cnkoY3JlYXRlRXhlY3V0YWJsZSkuY2F0Y2goY29uc29sZS5lcnJvcik7XG59XG4iLCJpbXBvcnQgKiBhcyBjb3JlIGZyb20gXCJAYWN0aW9ucy9jb3JlXCI7XG5pbXBvcnQgKiBhcyBibHVlYmlyZCBmcm9tIFwiYmx1ZWJpcmRcIjtcbmltcG9ydCB7IGNyZWF0ZUV4ZWN1dGFibGUgfSBmcm9tIFwiLi9jcmVhdGVFeGVjdXRhYmxlXCI7XG5pbXBvcnQgeyBleGVjV2l0aEVycm9yTWVzc2FnZSB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgeyBkcmFmdFJlbGVhc2UgfSBmcm9tIFwiLi9kcmFmdFJlbGVhc2VcIjtcblxuY29uc3QgYWN0aW9uID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBjb21tYW5kID0gY29yZS5nZXRJbnB1dChcImNvbW1hbmRcIik7XG5cbiAgaWYgKGNvbW1hbmQpIHtcbiAgICByZXR1cm4gYXdhaXQgZXhlY1dpdGhFcnJvck1lc3NhZ2UoY29tbWFuZCwgYFxcYCR7Y29tbWFuZH1cXGAgZmFpbGVkIWApO1xuICB9XG5cbiAgY29uc3QgdGFzayA9IGNvcmUuZ2V0SW5wdXQoXCJ0YXNrXCIpO1xuXG4gIGlmICh0YXNrID09PSBcImNyZWF0ZS1leGVjdXRhYmxlXCIpIHtcbiAgICByZXR1cm4gYXdhaXQgY3JlYXRlRXhlY3V0YWJsZSgpO1xuICB9XG5cbiAgaWYgKHRhc2sgPT09IFwiZHJhZnQtcmVsZWFzZVwiKSB7XG4gICAgcmV0dXJuIGF3YWl0IGRyYWZ0UmVsZWFzZSgpO1xuICB9XG59O1xuXG5ibHVlYmlyZC50cnkoYWN0aW9uKS5jYXRjaChlcnJvciA9PiBjb3JlLnNldEZhaWxlZChlcnJvci50b1N0cmluZygpKSk7XG4iLCJpbXBvcnQgKiBhcyBjb3JlIGZyb20gXCJAYWN0aW9ucy9jb3JlXCI7XG5pbXBvcnQgKiBhcyBhcnRpZmFjdCBmcm9tIFwiQGFjdGlvbnMvYXJ0aWZhY3RcIjtcbmltcG9ydCB7IEdpdEh1YiwgY29udGV4dCB9IGZyb20gXCJAYWN0aW9ucy9naXRodWJcIjtcbmltcG9ydCBmcyBmcm9tIFwiZnMtZXh0cmFcIjtcbmltcG9ydCB7IGdldEFwcFZlcnNpb24gfSBmcm9tIFwiLi9nZXRBcHBWZXJzaW9uXCI7XG5pbXBvcnQgeyBpc1NlbVZlciB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgeyBwcm9kdWN0TmFtZSB9IGZyb20gXCIuLi8uLi9wYWNrYWdlLmpzb25cIjtcblxuZXhwb3J0IGNvbnN0IGRyYWZ0UmVsZWFzZSA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgZ2l0aHViID0gbmV3IEdpdEh1Yihjb3JlLmdldElucHV0KFwiZ2l0aHViVG9rZW5cIikpO1xuICBjb25zdCB7IG93bmVyLCByZXBvIH0gPSBjb250ZXh0LnJlcG87XG4gIGNvbnN0IGFwcFZlcnNpb24gPSBnZXRBcHBWZXJzaW9uKCk7XG5cbiAgaWYgKCFpc1NlbVZlcihhcHBWZXJzaW9uKSkge1xuICAgIGNvcmUuc2V0RmFpbGVkKGBWZXJzaW9uICR7YXBwVmVyc2lvbn0gaXMgbm90IGEgdmFsaWQgc2VtYW50aWMgdmVyc2lvbi5gKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zb2xlLmxvZyhcIkNyZWF0aW5nIEdpdEh1YiByZWxlYXNlLi4uXCIpO1xuICBjb25zdCBjcmVhdGVSZWxlYXNlUmVzcG9uc2UgPSBhd2FpdCBnaXRodWIucmVwb3MuY3JlYXRlUmVsZWFzZSh7XG4gICAgb3duZXIsXG4gICAgcmVwbyxcbiAgICB0YWdfbmFtZTogYXBwVmVyc2lvbixcbiAgICBuYW1lOiBgJHtwcm9kdWN0TmFtZX0gdiR7YXBwVmVyc2lvbn1gLFxuICAgIGRyYWZ0OiB0cnVlLFxuICB9KTtcblxuICBjb25zdCB7XG4gICAgZGF0YTogeyB1cGxvYWRfdXJsOiB1cGxvYWRVcmwgfSxcbiAgfSA9IGNyZWF0ZVJlbGVhc2VSZXNwb25zZTtcblxuICBjb25zdCBhcnRpZmFjdENsaWVudCA9IGFydGlmYWN0LmNyZWF0ZSgpO1xuICBjb25zb2xlLmxvZyhcIkRvd25sb2FkaW5nIGJ1aWxkIGFydGlmYWN0cy4uLlwiKTtcbiAgY29uc3QgZG93bmxvYWRSZXNwb25zZSA9IGF3YWl0IGFydGlmYWN0Q2xpZW50LmRvd25sb2FkQWxsQXJ0aWZhY3RzKCk7XG5cbiAgZm9yIChsZXQgcmVzcG9uc2Ugb2YgZG93bmxvYWRSZXNwb25zZSkge1xuICAgIGNvbnN0IHsgZG93bmxvYWRQYXRoLCBhcnRpZmFjdE5hbWUgfSA9IHJlc3BvbnNlO1xuICAgIGNvbnN0IGFydGlmYWN0UGF0aCA9IGAke2Rvd25sb2FkUGF0aH0vJHthcnRpZmFjdE5hbWV9YDtcblxuICAgIGNvbnNvbGUubG9nKGBVcGxvYWRpbmcgcmVsZWFzZSBhc3NldCAke2FydGlmYWN0TmFtZX0uLi5gKTtcbiAgICBhd2FpdCBnaXRodWIucmVwb3MudXBsb2FkUmVsZWFzZUFzc2V0KHtcbiAgICAgIHVybDogdXBsb2FkVXJsLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL3ppcFwiLFxuICAgICAgICBcImNvbnRlbnQtbGVuZ3RoXCI6IGZzLnN0YXRTeW5jKGFydGlmYWN0UGF0aCkuc2l6ZSxcbiAgICAgIH0sXG4gICAgICBuYW1lOiBhcnRpZmFjdE5hbWUsXG4gICAgICBmaWxlOiBmcy5yZWFkRmlsZVN5bmMoYXJ0aWZhY3RQYXRoKSxcbiAgICB9KTtcbiAgfVxufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=